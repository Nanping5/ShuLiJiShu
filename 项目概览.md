# 空气动力学与几何系数数据集项目概览

## 📋 项目概述

**项目名称**: Dataset-of-Aerodynamic-and-Geometric-Coefficients-of-Airfoils-main
**研究领域**: 空气动力学、翼型参数化、计算流体力学(CFD)、机器学习
**数据规模**: 约2900个公共领域翼型
**测试条件**: 雷诺数 Re = 100,000
**研究论文**: [MDPI期刊链接](https://www.mdpi.com/2306-5729/9/5/64)

---

## 🏗️ 项目架构

```
Dataset-of-Aerodynamic-and-Geometric-Coefficients-of-Airfoils-main/
├── README.md                          # 项目总览
├── LICENSE                            # 许可证
│
├── CST/                               # CST参数化框架
│   ├── CST.m                          # 核心CST参数化函数
│   ├── CST_airfoil_fit.m              # 翼型生成函数
│   ├── airfoilfit.m                   # 优化误差函数
│   ├── CST_auto.m                     # 批量处理脚本
│   ├── README.md                      # CST框架说明
│   ├── AIRFOILS/                      # 原始翼型数据(.dat)
│   └── PLOTS/                         # 可视化结果
│
├── Raw Airfoil Data/                  # 原始翼型数据
│   ├── UIUC/                          # UIUC数据库(爬虫+原始数据)
│   │   ├── scraper.py                 # 网络爬虫脚本
│   │   └── UIUC.zip                   # 原始压缩包
│   └── AIRFOILTOOLS/                  # AirfoilTools数据
│       └── AIRFOILTOOLS.zip
│
├── Processed Airfoil Data/            # 处理后数据
│   ├── AIRFOILS.zip                   # 600点翼型文件
│   └── README.md                      # 处理说明
│
├── Baseline Model/                    # 基线神经网络模型
│   ├── MODEL.py                       # 神经网络架构
│   ├── DATALOADER.py                  # 数据加载器
│   ├── TRAIN.py                       # 训练脚本
│   ├── COMPILED_AIRFOIL_DATA.csv      # 完整数据集
│   └── README.md                      # 模型说明
│
├── CFD/                               # 计算流体力学
│   ├── Parallelization & Case Setup/  # 并行计算设置
│   │   ├── pcN/                       # OpenFOAM案例模板
│   │   │   ├── automesh.py            # 自动网格生成
│   │   │   ├── system/                # OpenFOAM配置
│   │   │   ├── 0.orig/                # 初始条件
│   │   │   └── README.md
│   │   ├── runpc.sh                   # 并行运行脚本
│   │   └── README.md
│   ├── Post-Processing/               # 后处理
│   │   ├── post.py                    # 结果合并
│   │   ├── postdata.py                # 数据整合
│   │   └── Readme.md
│   └── README.md
│
└── Final Results/                     # 最终结果
    ├── COMPILED AIRFOIL DATA.csv      # 最终数据集
    └── README.md                      # 格式说明
```

---

## 🔧 核心技术组件

### 1. CST (Class Shape Transformation) 参数化方法

**基础理论**: Brenda Kulfan 的通用参数化几何表示方法
**输入**: 翼型600点坐标数据
**输出**: 8个CST系数参数

**数学原理**:
- 类函数 C(ξ) = ξ^N1 × (1-ξ)^N2 (N1=0.5, N2=1 for airfoils)
- 形状函数 S(ξ) = Σ[w_i × K_i × ξ^(i-1) × (1-ξ)^(n-(i-1))]
- 最终几何: y(ξ) = C(ξ) × S(ξ) + ξ × dz

**MATLAB代码流程**:
```matlab
1. 读取.dat文件 → 提取x,y坐标
2. 分离上下表面 → 优化算法求解8个权重
3. fmincon优化 → 最小化原始与重建的误差
4. 生成CST系数 → 输出参数化结果
```

### 2. 数据处理工作流

**第一阶段: 数据收集**
```bash
# UIUC数据库爬取
python scraper.py  # 下载约2900个翼型.dat文件
```

**第二阶段: CST参数化 (MATLAB)**
```matlab
CST_auto.m  # 批量处理AIRFOILS目录所有文件
# 输出:
# - Filename_Coeffs.txt (8个CST系数)
# - PLOTS/Filename.png (对比图)
```

**第三阶段: CFD模拟 (OpenFOAM)**
```bash
# 1. 网格生成
python automesh.py  # 读取.dat文件生成blockMeshDict

# 2. 并行计算
./runpc.sh  # 同时运行pc01-pcN目录的模拟

# 3. 后处理
python post.py      # 合并Results.csv
python postdata.py  # 添加CST系数
```

**第四阶段: 机器学习**
```bash
# 数据加载与训练
python TRAIN.py  # 使用COMPILED_AIRFOIL_DATA.csv训练网络
```

### 3. 神经网络模型

**架构详情**:
```
输入层: 9个节点 (8个CST系数 + 1个攻角AoA)
    ↓
隐藏层1: 12个节点 + BatchNorm + ReLU + Dropout(0.5)
    ↓
隐藏层2: 6个节点 + BatchNorm + ReLU + Dropout(0.5)
    ↓
输出层: 2个节点 (升力系数Cl, 阻力系数Cd)
```

**训练参数**:
- 优化器: Adam (lr=0.0001)
- 损失函数: HuberLoss(delta=0.1)
- 批大小: 64
- 训练轮数: 15
- 数据分割: 80%训练 / 10%验证 / 10%测试

---

## 📊 最终数据集格式

**文件**: `Final Results/COMPILED AIRFOIL DATA.csv`

| 列名 | 描述 | 示例 |
|------|------|------|
| Filename | 翼型名称 | E180  8pt59 |
| AoA | 攻角(度) | 0 |
| CST Coeff 1-8 | 几何参数化系数 | -8.4048686e-02 |
| Cl | 升力系数 | 0.1443512 |
| Cd | 阻力系数 | 0.015294594 |

**每行数据代表某个翼型在特定攻角下的气动特性**

---

## 🎯 项目技术亮点

### 1. 参数化效率
- 将600点几何数据压缩为8个系数
- 参数压缩率: **98.7%**
- 重建误差 < 1%

### 2. 数据规模
- **2900个翼型** × **多个攻角** = 数千条数据点
- 覆盖广泛的几何形状范围
- 统一Re=100,000条件下的CFD数据

### 3. 工程价值
- **设计优化**: 几何参数直接用于优化
- **快速评估**: 神经网络替代昂贵的CFD模拟
- **数据标准化**: 统一格式便于比较研究

---

## 📈 数据管道示意图

```
原始.dat文件(600点)
         ↓
   [CST参数化]
         ↓
8个CST系数 + 预处理
         ↓
   [OpenFOAM CFD]
         ↓
Cl, Cd (Re=100,000)
         ↓
   [数据整合]
         ↓
最终数据集(CSV)
         ↓
   [神经网络训练]
         ↓
预测模型(部署)
```

---

## 🔬 关键算法详解

### CST系数优化过程
```matlab
% 目标函数: 最小化原始数据与CST重建的差异
function error = airfoilfit(W,yt,xl,xu,dz,A,ind)
    yp = CST_airfoil_fit(W,xl,xu,dz,A,ind);
    error = mean(abs(yt-yp));  % L1误差
end

% 约束条件: -1 ≤ W_i ≤ 1 (权重归一化)
Wopt = fmincon(@(W) airfoilfit(...), Winit, [], [], [], [], ...
               ones(1,8)*-1, ones(1,8), []);
```

### 网格生成逻辑
```python
# automesh.py 核心功能
1. 从.dat文件提取翼型几何 → 生成blockMeshDict
2. 定义计算域: x ∈ [-12.5, 12.5], y ∈ [0, 0.1]
3. 创建结构化四面体网格
4. 设置边界条件: 进口、出口、壁面
```

---

## 📚 研究应用场景

1. **翼型优化**: 使用CST系数作为设计变量
2. **快速筛选**: 神经网络预测代替CFD仿真
3. **数据驱动设计**: 机器学习辅助气动设计
4. **教学研究**: 空气动力学数据基准测试

---

## 🔍 使用指南

### 获取CST参数
```matlab
% 对单个翼型
[error, DATA, Weights] = CST('airfoil.dat');
% Weights即8个CST系数
```

### 训练预测模型
```bash
cd "Baseline Model"
python TRAIN.py  # 得到checkpt.pth模型
```

### 预测新翼型
```python
from MODEL import AIRFOIL_GENERATOR
import torch

model = AIRFOIL_GENERATOR()
model.load_state_dict(torch.load('checkpt.pth'))

# 输入: 8个CST系数 + AoA
input = torch.tensor([c1,c2,...,c8,aoa])
Cl, Cd = model(input)
```

---

## 📝 数据质量控制

- **几何验证**: CST重建误差 < 1%
- **CFD验证**: 网格无关性验证
- **数据清洗**: 剔除异常收敛结果
- **一致性检查**: 标准化格式验证

---

## 💡 项目扩展方向

1. **多条件模拟**: 不同雷诺数下的数据
2. **几何约束**: 添加厚度、弯度等约束
3. **更深层的网络**: 提高预测精度
4. **主动学习**: 自适应采样策略
5. **生成模型**: 从气动性能逆向设计翼型

---

## 🎓 学术引用

如果使用此数据集进行研究，请引用原论文:

```
@article{your_citation,
  title={A Comprehensive Dataset of the Aerodynamic and Geometric
         Coefficients of Airfoils in the Public Domain},
  author={...},
  journal={MDPI Aerospace},
  volume={9},
  number={5},
  pages={64},
  year={2022},
  url={https://www.mdpi.com/2306-5729/9/5/64}
}
```

---

*项目文档由浮浮酱整理于 2025-12-18*
*祝您的研究进展顺利！<=(◕‿◕)=*
